<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedStore | Ecommerce Website Design</title>
    <link rel="stylesheet" href="admindashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="js/forminputbooking.js"></script>
</head>

<body>
    
    <div class="header">
        <div class="container-navbar">
            <div class="navbar">
                <div class="logo">
                    <a href="index.html"><img src="images/logo.png" alt="logo" width="125px"></a>
                </div>
                <nav>
                    <ul id="MenuItems">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="">About</a></li>
                        <li><a href="">Contact</a></li>
                        <li><a href="account.html">Account</a></li>
                    </ul>
                </nav>
                <a href="cart.html"><img src="images/cart.png" width="30px" height="30px"></a>
                <img src="images/menu.png" class="menu-icon" onclick="menutoggle()">
            </div>
        </div>    
    </div>
    <!-- Feadtued Categories -->

    <div class="boxhero">
        <div class="box">
          <div class="square">
            <div class="square-icon1">
              <div class="icon">
                <img src="logo/booking (1).png" alt="">
              </div>
            </div>
            <p class="info">Jumlah Booking</p>
            <p class="count" id="count_booked">
              <script>
                const counted_booking = document.getElementById("count_booked");
                let count_booking = 0;
  
                fetch("http://localhost:8000/booked")
                  .then((response) => response.json())
                  .then((data_booked) => {
                    // Map the data from the response rows
                    const bookedElements = data_booked.data.map((booked) => {
                      count_booking++;
                    });
                    counted_booking.innerHTML = count_booking;
                  });
              </script>
            </p>
          </div>
        </div>
        <div class="box">
          <div class="square">
            <div class="square-icon2">
              <div class="icon">
                <img src="logo/festival.png" alt="">
              </div>
            </div>
            <p class="info">Jumlah Festival</p>
            <p class="count" id="counted_festival">
              <script>
                const counted_fest = document.getElementById("counted_festival");
                let count_fest = 0;
  
                fetch("http://localhost:8000/festival")
                  .then((response) => response.json())
                  .then((data_festival) => {
                    // Map the data from the response rows
                    const Elements = data_festival.rows.map((festival) => {
                      count_fest++;
                    });
                    counted_fest.innerHTML = count_fest;
                  });
              </script>
            </p>
          </div>
        </div>
        <div class="box">
          <div class="square">
            <div class="square-icon3">
              <div class="icon">
                <img src="logo/exhibition.png" alt="">
              </div>
            </div>
            <p class="info">Jumlah Pameran</p>
            <p class="count" id="counted_pameran">
              <script>
                const counted_pameran =
                  document.getElementById("counted_pameran");
                let count_pameran = 0;
  
                fetch("http://localhost:8000/pameran")
                  .then((response) => response.json())
                  .then((data_pameran) => {
                    // Map the data from the response rows
                    const Elements = data_pameran.data.map((pameran) => {
                      count_pameran++;
                    });
                    counted_pameran.innerHTML = count_pameran;
                  });
              </script>
            </p>
          </div>
        </div>
      </div>

      <!-- table booking -->
      <div class="container-booking">
        <table>
            <div class="title-list">List of Booking</div>
            <div class="button-input">
              <button class="button-22" onclick="openPopupForm('add-booking')">Tambah Booking</button>
            </div>
          <thead class="thead">
            <tr class="tr-thead">
              <th class="th-name">NAMA</th>
              <th class="th-nohp">NOMOR HANDPHONE</th>
              <th class="th-org">JUMLAH ORANG</th>
              <th class="th-jam">JAM</th>
              <th class="th-tgl">HARI/TGL</th>
              <th class="th-kegiatan">KEGIATAN</th>
              <th class="th-action">ACTION</th>
            </tr>
          </thead>
          <tbody id="bookingoutput">
            <script>
              // Select the HTML element where you want to display the data
              const bookingContainer =
                document.getElementById("bookingoutput");
              // Map the data from the response rows
              fetch("http://localhost:8000/booked")
                .then((response) => response.json())
                .then((data_booked) => {
                  // Map the data from the response rows
                  const bookedElements = data_booked.data.map(
                    (booked) => {
                      return `
                      <tr>
                      <td>${booked.nama}</td>
                      <td class="text-td">${booked.nohp}</td>
                      <td class="text-td">${booked.jumlahorang}</td>
                      <td class="text-td">${booked.jam}</td>
                      <td class="text-td">${booked.jadwal}</td>
                      <td class="text-td">${booked.kegiatan}</td>
                      <td>
                        <div class="button-container">
                        <button class="button-edit" onclick="openPopupForm('add-booking')">Edit</button>
                        <button class="button-delete" onclick="openPopupForm('add-booking')">Edit</button>
                        </div>
                      </td>
                      </tr>
                      `
                    }
                  );
                  bookingContainer.innerHTML =
                    bookedElements.join("");
                });
            </script>
          </tbody>
      </table>
      </div>

      <!-- table festival -->
      <div class="container-festival">
        <table>
            <div class="title-list">List of Festival</div>
            <div class="button-input">
              <button class="button-22" onclick="openPopupForm('add-festival')">Tambah Festival</button>
            </div>
          <thead class="thead">
            <tr class="tr-thead">
              <th class="th-namafestival">NAMA KEGIATAN</th>
              <th class="th-deskfestival">DESKRIPSI</th>
              <th class="th-jadwalfestival">JADWAL</th>
              <th class="th-lokasifestival">LOKASI</th>
              <th class="th-gmaps">GMAPS</th>
              <th class="th-actionfestival">ACTION</th>
            </tr>
          </thead>
          <tbody id="festoutput">
            <script>
              // Select the HTML element where you want to display the data
              const dataContainer =
                document.getElementById("festoutput");
              // Map the data from the response rows
              fetch("http://localhost:8000/festival")
                .then((response) => response.json())
                .then((data_festival) => {
                  // Map the data from the response rows
                  const festivalElements = data_festival.rows.map(
                    (festival) => {
                      return `
                      <tr>
                        <td class="text-bold-500">${festival.nama}</td>
                        <td>${festival.deskripsi}</td>
                        <td class="text-td">${festival.jadwal}</td>
                        <td class="text-td">${festival.lokasi}</td>
                        <td class="text-td">${festival.gmaps}</td>
                        <td>
                          <div class="button-container">
                        <button class="button-edit" onclick="openPopupForm('add-booking')">Edit</button>
                        <button class="button-delete" onclick="openPopupForm('add-booking')">Edit</button>
                        </div>  
                        </td>
                          
                    
                      </tr>
                            `;
                          }
                        );
                  dataContainer.innerHTML = festivalElements.join("");
                });
            </script>
          </tbody>
      </table>
      </div>

      <!-- table Pameran -->
      <div class="container-pameran">
        <table>
            <div class="title-list">List of Pameran</div>
            <div class="button-input">
              <button class="button-22" onclick="openPopupForm('add-Pameran')">Tambah Pameran</button>
            </div>
          <thead class="thead">
            <tr class="tr-thead">
              <th class="th-namafestival">NAMA KEGIATAN</th>
              <th class="th-deskfestival">DESKRIPSI</th>
              <th class="th-jadwalfestival">JADWAL</th>
              <th class="th-lokasifestival">LOKASI</th>
              <th class="th-gmaps">GMAPS</th>
              <th class="th-actionfestival">ACTION</th>
            </tr>
          </thead>
          <tbody id="pameranOutput">
            <script>
              // Select the HTML element where you want to display the data
              const pameranContainer =
                document.getElementById("pameranOutput");
              // Map the data from the response rows
              fetch("http://localhost:8000/pameran")
                .then((response) => response.json())
                .then((data_pameran) => {
                  // Map the data from the response rows
                  const pameranElement = data_pameran.data.map(
                    (pameran) => {
                      return `
                    <tr>
                      <td class="text-bold-500">${pameran.nama}</td>
                      <td>${pameran.deskripsi}</td>
                      <td class="text-td">${pameran.jadwal}</td>
                      <td class="text-td">${pameran.lokasi}</td>
                      <td class="text-td">${pameran.gmaps}</td>
                      <td>
                        <div class="button-container">
                        <button class="button-edit" onclick="openPopupForm('add-booking')">Edit</button>
                        <button class="button-delete" onclick="openPopupForm('add-booking')">Edit</button>
                        </div>  
                      </td>
                      </tr>
                      `;
                    }
                  );
                  pameranContainer.innerHTML =
                    pameranElement.join("");
                });
            </script>
          </tbody>
      </table>
      </div>

</body>

</html>